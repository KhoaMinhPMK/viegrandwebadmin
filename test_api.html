<!DOCTYPE html>
<html>
<head>
    <title>Test API</title>
</head>
<body>
    <h1>Test VieGrand API</h1>
    <button onclick="testAPI()">Test API Call</button>
    <div id="result"></div>

    <script>
    async function testAPI() {
        const resultDiv = document.getElementById('result');
        
        try {
            resultDiv.innerHTML = 'Loading...';
            
            const response = await fetch('https://viegrand.site/viegrandwebadmin/php/users.php?action=list&db=admin&page=1&limit=10');
            const text = await response.text();
            
            console.log('Response status:', response.status);
            console.log('Response headers:', response.headers);
            console.log('Response text:', text);
            
            resultDiv.innerHTML = `
                <h3>Response Status: ${response.status}</h3>
                <h3>Response Text:</h3>
                <pre>${text}</pre>
            `;
            
            // Thá»­ parse JSON
            try {
                const json = JSON.parse(text);
                resultDiv.innerHTML += `
                    <h3>Parsed JSON:</h3>
                    <pre>${JSON.stringify(json, null, 2)}</pre>
                `;
            } catch (e) {
                resultDiv.innerHTML += `
                    <h3>JSON Parse Error:</h3>
                    <pre>${e.message}</pre>
                `;
            }
            
        } catch (error) {
            console.error('Fetch error:', error);
            resultDiv.innerHTML = `
                <h3>Fetch Error:</h3>
                <pre>${error.message}</pre>
            `;
        }
    }
    </script>
</body>
</html>
